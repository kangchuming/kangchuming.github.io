# Web 性能优化核心指标指南

本文详细介绍 Web 性能优化中的三个关键性能指标：FCP、LCP 和 TTI。通过理解和优化这些指标，可以显著提升用户体验。

## 1. First Contentful Paint (FCP)

### 1.1 定义
First Contentful Paint 指页面从开始加载到渲染第一个可见内容的时间。这个内容可以是文本、图片、SVG 或者非白色的 `<canvas>` 元素。

### 1.2 重要性
- FCP 是用户感知页面加载速度的关键指标
- 直接影响用户的首次印象和体验
- 是 Google Core Web Vitals 的重要组成部分

### 1.3 优化策略
1. **减少渲染阻塞资源**
   - 优化 CSS 加载
   - 延迟非关键 JavaScript 加载
   - 使用 `async` 和 `defer` 属性

2. **优化首屏资源**
   - 精简首屏必需资源
   - 避免加载非必要内容
   - 实施关键 CSS（Critical CSS）策略

3. **加速资源加载**
   - 启用 HTTP/2 协议
   - 使用 CDN 分发资源
   - 实施资源预加载

### 1.4 实际案例
在电商网站场景中，通过将首屏关键 CSS 内联到 HTML 中，可以显著减少 FCP，让用户更快看到页面内容。

## 2. Largest Contentful Paint (LCP)

### 2.1 定义
Largest Contentful Paint 衡量页面上最大的可见内容元素（如图片或文本块）完全渲染的时间。

### 2.2 重要性
- LCP 是衡量页面视觉加载速度的核心指标
- 直接影响用户对页面加载完成度的感知
- 是 Google 搜索排名的重要因素

### 2.3 优化策略
1. **图片加载优化**
   - 实施图片懒加载
   - 使用响应式图片
   - 采用现代图片格式（WebP）
   - 合理压缩图片

2. **资源优先级管理**
   - 预加载关键资源
   - 优化资源加载顺序
   - 使用 `priority hints`

3. **服务端优化**
   - 优化服务器响应时间
   - 实施缓存策略
   - 使用 CDN

### 2.4 实际案例
新闻网站通过优化首屏大图的加载方式（使用 WebP 格式、实施预加载），可以显著改善 LCP 指标。

## 3. Time to Interactive (TTI)

### 3.1 定义
Time to Interactive 表示页面从开始加载到可以完全交互的时间，即页面已渲染完成并能够可靠地响应用户输入。

### 3.2 重要性
- TTI 反映了页面的实际可用性
- 影响用户交互体验的关键指标
- 对于交互密集型应用尤为重要

### 3.3 优化策略
1. **JavaScript 优化**
   - 减少 JavaScript 包体积
   - 避免长任务阻塞主线程
   - 实施代码分割（Code Splitting）
   - 延迟加载非关键脚本

2. **资源加载优化**
   - 按需加载组件
   - 优化第三方脚本加载
   - 使用 Web Workers 处理复杂计算

3. **构建优化**
   - 使用现代构建工具
   - 移除未使用的代码
   - 优化依赖包大小

### 3.4 实际案例
复杂的 Web 应用通过实施代码分割和延迟加载非关键 JavaScript，可以显著降低 TTI，提升用户交互体验。

## 总结

优化这三个核心性能指标对提升网站性能和用户体验至关重要：
- FCP 优化让用户更快看到页面内容
- LCP 优化提升用户对页面加载完成度的感知
- TTI 优化确保用户可以更快地与页面进行交互

建议根据具体应用场景和用户需求，选择合适的优化策略，并持续监控这些指标的表现。